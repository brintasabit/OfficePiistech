@model PagedList.IPagedList<EmployeeHBJS.Models.EmployeeInfo5>
@{
    ViewBag.Title = "EmployeeHBJS";
}
@using EmployeeHBJS.Controllers
@using PagedList.Mvc

<style>
    #empTb.empTb {
        background: black;
        color: white;
        text-align: center;
    }
</style>

<script type="text/x-handlebars-template" id="hbTemplate">

    <table class="table table-bordered">
        <thead id="empTb" class="empTb">
            <tr>
                <td>Employee Id</td>
                <td>First Name</td>
                <td>Last Name</td>
                <td>Salary Per Day</td>
                <td>Weight</td>
                <td>Age</td>
                <td>Total Salary</td>
                <td>Conditions</td>
                <td>Loop</td>
            </tr>
        </thead>

        @*{{#EmployeeInfo5}}*@

        {{#each EmployeeInfo5}}
        <tr>

            <td>{{EmpId}}</td>
            <td>{{FirstName}}</td>
            <td>{{LastName}}</td>
            <td>{{SalaryPerDay}}</td>
            <td>{{Weight}}</td>
            <td>{{Age}}</td>
            <td>{{Calculate SalaryPerDay "10"}}</td>
            <td>
                {{#if FirstName LastName}}
                {{/if}}
            </td>
        </tr>

        {{/each}}

        @*{{/EmployeeInfo5}}*@

    </table>
    <style>
        .pagination {
            display: inline-block;
        }

            .pagination a {
                color: black;
                float: left;
                padding: 8px 16px;
                text-decoration: none;
                transition: background-color .3s;
                border: 1px solid #ddd;
                margin: 0 4px;
            }

                .pagination a.active {
                    background-color: #4CAF50;
                    color: white;
                    border: 1px solid #4CAF50;
                }

                .pagination a:hover:not(.active) {
                    background-color: #ddd;
                }
    </style>
    <div class="pagination">
        <button onclick="function()">Previous</button>
        <button onclick="h(1)">1</button>
        <button onclick="h(2)">2</button>
        <button onclick="h(3)">Next</button>
    </div>
</script>


<h2>Employees Info With Handlebar JS</h2>

<script type="text/javascript">
    console.log("Script fired");
    Handlebars.registerHelper('UpperCase',
        function(aString) {
            console.log("UpperCase fired");
            return aString.toUpperCase();
        });
    Handlebars.registerHelper("Calculate",
        function(a, b) {
            console.log("Calculate fired");
            var c = a * b;
            return c;
        });
    Handlebars.registerHelper("if",
        function(a, b) {
            console.log("If fired");
            var c;
            if (a !== b) {
                c = "Red";
            } else {
                c = "Green";
            }
            return c;
        });
    var cast = (function() {
        var b = "loop";

    });
    Handlebars.registerHelper("for",
        function() {
            console.log("For fired");

            var c;
            for (c = 0; c < 5; c++) {
                cast();

            }
            return cast();
        });
    //Handlebars.registerHelper("paging", function (a) {
    //    console.log("paging fired");
    //    var c=PagedListPager(a,i=>)
    //    return cast();
    //});
    $(function (pageNumber) {
            var empTemplate = $("#hbTemplate").html();
            var sourceHtml = Handlebars.compile(empTemplate);
            var requestData = {
                pageNo:pageNumber,
                EmpId: $('EmpId').val(),
                FirstName: $('FirstName').val(),
                LastName: $('LastName').val(),
                SalaryPerDay: $('SalaryPerDay').val(),
                Weight: $('Weight').val(),
                Age: $('Age').val()
            
            };

       
            $.ajax({
                url: '/Home/HbJs?pageNo=' + pageNumber,
                type: 'POST',
                data: JSON.stringify(requestData),
                dataType: 'json',
                contentType: 'application/json; charset=utf-8',
                error: function(xhr) {
                    alert('Error: ' + xhr.statusText);
                },
                success: function(data) {
                    $("#hBDiv").html(sourceHtml(data));
                    console.log(pageNumber);

                },
                async: true,
                processData: false
            });
        });
    $.notify("Handlebar Js!", "success");
</script>
<div id="hBDiv">

</div>